{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Searchbar/Searchbar.module.css","Components/Searchbar/Searchbar.js","Components/ImageGallery/ImageGallery.js","Components/Loader/Loader.js","Components/Services/Pixabay.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","Searchbar","props","useState","queryImg","setQueryImg","className","s","SearchBar","SearchForm","onSubmit","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","target","value","toLowerCase","autoComplete","autoFocus","placeholder","ImageGallery","children","Loader","viewBox","height","width","d","cx","cy","rx","ry","x","y","Pixabay","base_url","api_key","this","_searchPage","_searchQuery","axios","defaults","baseURL","url","get","then","result","data","hits","catch","err","toast","error","propTypes","PropTypes","string","isRequired","number","newPixabay","ImageGalleryItem","pageNum","imgItemsList","status","setStatus","key","init_value","JSON","parse","localStorage","getItem","state","setState","useEffect","setItem","stringify","useKey","searchResults","setSearchResults","trim","resetPage","searchQuery","searchPage","searchPhotos","length","results","prev","map","img","index","src","webformatURL","alt","tags","ImageGalleryItemImage","onClick","activeImg","setActiveImgIdx","id","Button","setPageNum","setTimeout","window","scrollTo","top","document","lastChild","scrollHeight","behavior","Modal","addEventListener","handleKeyDown","removeEventListener","code","onClose","Overlay","currentTarget","imgItem","largeImageURL","App","showModal","setShowModal","setImgItem","imgItems","setImgItems","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b14292ad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1t81h\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3XIOw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1FMAg\",\"Modal\":\"Modal_Modal__1eLyv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3-gJ-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"Searchbar_SearchBar__1M3Bj\",\"SearchForm\":\"Searchbar_SearchForm__23bxU\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1ClE4\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3ghnl\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2_CM8\"};","import { useState } from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Searchbar(props) {\r\n  const [queryImg, setQueryImg] = useState('');\r\n\r\n  const handleSearchChange = e => {\r\n    setQueryImg(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSearchSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    props.onSubmit(queryImg);\r\n    setQueryImg('');\r\n    return;\r\n  };\r\n\r\n  return (\r\n    <header className={s.SearchBar}>\r\n      <form className={s.SearchForm} onSubmit={handleSearchSubmit}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          onChange={handleSearchChange}\r\n          value={queryImg}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  handleSearchSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ImageGallery = ({ children }) => {\r\n  return (\r\n    <div>\r\n      <ul className={s.ImageGallery}>{children}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  children: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport ContentLoader from 'react-content-loader';\r\n\r\nconst Loader = props => {\r\n  return (\r\n    <ContentLoader viewBox=\"0 0 800 400\" height={375} width={500} {...props}>\r\n      <path d=\"M484.52,64.61H15.65C7.1,64.61.17,71.2.17,79.31V299.82c0,8.12,6.93,14.7,15.48,14.7H484.52c8.55,0,15.48-6.58,15.48-14.7V79.31C500,71.2,493.07,64.61,484.52,64.61Zm-9,204.34c0,11.84-7.14,21.44-15.94,21.44H436.39L359.16,171.52c-7.1-10.92-19.67-11.16-27-.51L258.64,277.94C253.78,285,245.73,286,240,280.2l-79.75-80.62c-6-6.06-14.33-5.7-20,.88L62.34,290.39H40.63c-8.8,0-15.94-9.6-15.94-21.44V110.19c0-11.84,7.14-21.44,15.94-21.44H459.54c8.8,0,15.94,9.6,15.94,21.44Z\" />\r\n      <ellipse cx=\"27.53\" cy=\"26.15\" rx=\"27.53\" ry=\"26.15\" />\r\n      <rect x=\"69.36\" y=\"0.5\" width=\"87.36\" height=\"16.48\" rx=\"4.5\" />\r\n      <rect x=\"0.53\" y=\"328.35\" width=\"87.36\" height=\"16.48\" rx=\"4.5\" />\r\n      <rect x=\"95.84\" y=\"328.35\" width=\"87.36\" height=\"16.48\" rx=\"4.5\" />\r\n      <rect x=\"195.38\" y=\"328.35\" width=\"304.45\" height=\"16.48\" rx=\"4.5\" />\r\n      <rect x=\"412.47\" y=\"358.52\" width=\"87.36\" height=\"16.48\" rx=\"4.5\" />\r\n      <rect x=\"291.22\" y=\"358.52\" width=\"113.31\" height=\"16.48\" rx=\"4.5\" />\r\n      <rect x=\"0.53\" y=\"358.52\" width=\"282.21\" height=\"16.48\" rx=\"4.5\" />\r\n      <rect x=\"69.36\" y=\"25.22\" width=\"164.67\" height=\"27.07\" rx=\"3.83\" />\r\n    </ContentLoader>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Pixabay {\r\n  constructor(base_url, api_key) {\r\n    this.base_url = base_url;\r\n    this.api_key = api_key;\r\n    this._searchPage = 1;\r\n    this._searchQuery = '';\r\n  }\r\n\r\n  get searchQuery() {\r\n    return this._searchQuery;\r\n  }\r\n  set searchQuery(value) {\r\n    return (this._searchQuery = value);\r\n  }\r\n  resetPage() {\r\n    return (this._searchPage = 1);\r\n  }\r\n  get searchPage() {\r\n    return this._searchPage;\r\n  }\r\n  set searchPage(value) {\r\n    return (this._searchPage = value);\r\n  }\r\n\r\n  searchPhotos() {\r\n    axios.defaults.baseURL = this.base_url;\r\n\r\n    let url = `?key=${this.api_key}&q=${this._searchQuery}&page=${this._searchPage}&per_page=12`;\r\n\r\n    return axios\r\n      .get(url)\r\n      .then(result => {\r\n        return result.data;\r\n      })\r\n      .then(data => {\r\n        if (this._searchQuery === '') {\r\n          return (data = []);\r\n        }\r\n        return data.hits;\r\n      })\r\n      .catch(err => {\r\n        toast.error('error!!!');\r\n      });\r\n  }\r\n}\r\n\r\nPixabay.propTypes = {\r\n  base_url: PropTypes.string.isRequired,\r\n  api_key: PropTypes.string.isRequired,\r\n  _searchQuery: PropTypes.string.isRequired,\r\n  _searchPage: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Pixabay;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useState, useEffect } from 'react';\r\nimport Loader from '../Loader/Loader';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ImageGalleryItem.module.css';\r\nimport Pixabay from '../Services/Pixabay';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nconst base_url = 'https://pixabay.com/api/';\r\nconst api_key = '23038221-87f79236823d8e345a162521c';\r\nconst newPixabay = new Pixabay(base_url, api_key);\r\n\r\nexport const useKey = (key, init_value) => {\r\n  const [state, setState] = useState(\r\n    () => JSON.parse(localStorage.getItem(key)) ?? init_value,\r\n  );\r\n  useEffect(() => {\r\n    localStorage.setItem(key, JSON.stringify(state));\r\n  }, [key, state]);\r\n  return [state, setState];\r\n};\r\n\r\nfunction ImageGalleryItem(props) {\r\n  const { pageNum, queryImg, imgItemsList } = props;\r\n  const [status, setStatus] = useState('init');\r\n  const [searchResults, setSearchResults] = useKey('keyImages', []);\r\n\r\n  useEffect(() => {\r\n    setStatus('pending');\r\n    if (!queryImg.trim()) {\r\n      setSearchResults([]);\r\n      return;\r\n    }\r\n\r\n    setStatus('pending');\r\n    newPixabay.resetPage();\r\n    newPixabay.searchQuery = queryImg;\r\n    newPixabay.searchPage = pageNum;\r\n    newPixabay\r\n      .searchPhotos()\r\n      .then(searchResults => {\r\n        setSearchResults(searchResults);\r\n        imgItemsList(searchResults.length);\r\n        setStatus('success');\r\n      })\r\n      .catch(() => {\r\n        setStatus('error');\r\n      });\r\n  }, [queryImg]);\r\n\r\n  useEffect(() => {\r\n    const { pageNum } = props;\r\n    newPixabay.searchPage = pageNum;\r\n    newPixabay\r\n      .searchPhotos()\r\n      .then(results => {\r\n        setSearchResults(prev => [...prev, ...results]);\r\n        setStatus('success');\r\n      })\r\n      .catch(() => {\r\n        setStatus('error');\r\n      });\r\n  }, [pageNum]);\r\n\r\n  const setActiveImgIdx = index => {\r\n    const activeImg = searchResults[index];\r\n    props.onClick(activeImg);\r\n  };\r\n\r\n  if (!queryImg.trim()) {\r\n    return <h1>Hello! Search something...</h1>;\r\n  }\r\n  if (status === 'pending') {\r\n    return <Loader />;\r\n  }\r\n  if (queryImg.trim() && searchResults.length === 0) {\r\n    return <h1>No results were found...</h1>;\r\n  }\r\n  if (status === 'success') {\r\n    return (\r\n      <>\r\n        {searchResults.length > 0 &&\r\n          searchResults.map((img, index) => (\r\n            <li key={img.id} className={s.ImageGalleryItem}>\r\n              <img\r\n                src={img.webformatURL}\r\n                alt={img.tags}\r\n                className={s.ImageGalleryItemImage}\r\n                onClick={() => setActiveImgIdx(index)}\r\n              />\r\n            </li>\r\n          ))}\r\n      </>\r\n    );\r\n  }\r\n  if (status === 'error') {\r\n    return status === 'error' && toast.error('ALARM!!!');\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  queryImg: PropTypes.string.isRequired,\r\n  pageNum: PropTypes.number.isRequired,\r\n  imgItemsList: PropTypes.func.isRequired,\r\n  activeImg: PropTypes.number,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import { useState, useEffect } from 'react';\r\nimport './Button.module.css';\r\n\r\nfunction Button(props) {\r\n  const [pageNum, setPageNum] = useState(1);\r\n\r\n  useEffect(() => {\r\n    props.onClick(pageNum);\r\n\r\n    setTimeout(() => {\r\n      window.scrollTo({\r\n        top: document.lastChild.scrollHeight,\r\n        behavior: 'smooth',\r\n      });\r\n    }, 500);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pageNum]);\r\n\r\n  const handleClick = () => {\r\n    setPageNum(prev => prev + 1);\r\n\r\n    return;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button type=\"button\" onClick={handleClick}>\r\n        Load More\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import { useEffect } from 'react';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Modal(props) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      props.onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = e => {\r\n    if (e.currentTarget === e.target) props.onClose();\r\n  };\r\n\r\n  return (\r\n    <div className={s.Overlay} onClick={handleBackdropClick}>\r\n      <div className={s.Modal}>\r\n        <img src={props.imgItem.largeImageURL} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  onClos: PropTypes.func,\r\n};\r\n\r\nexport default Modal;\r\n","import './App.css';\nimport { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './Components/ImageGalleryItem/ImageGalleryItem';\nimport Button from './Components/Button/Button';\nimport Modal from './Components/Modal/Modal';\n\nfunction App() {\n  const [queryImg, setQueryImg] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [pageNum, setPageNum] = useState(1);\n  const [imgItem, setImgItem] = useState([]);\n  const [imgItems, setImgItems] = useState(0);\n  const toggleModal = () => {\n    setShowModal(prev => !prev);\n  };\n\n  const handleSearchFormSubmit = queryImg => {\n    setQueryImg(queryImg);\n    // if (imgItems === 0) {\n    //   setPageNum(1);\n    // }\n  };\n\n  const handleBtnNum = pageNum => {\n    setPageNum(pageNum);\n  };\n\n  const handleImgItem = imgItem => {\n    setShowModal(!showModal);\n    setImgItem(imgItem);\n  };\n\n  const imgItemsListLength = imgItems => {\n    setImgItems(imgItems);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSearchFormSubmit} />\n      <ToastContainer autoClose={3000} />\n      <ImageGallery>\n        <ImageGalleryItem\n          queryImg={queryImg}\n          pageNum={pageNum}\n          imgItemsList={imgItemsListLength}\n          onClick={handleImgItem}\n        />\n      </ImageGallery>\n      {imgItems > 0 && <Button onClick={handleBtnNum} />}\n      {showModal && <Modal imgItem={imgItem} onClose={toggleModal} />}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}